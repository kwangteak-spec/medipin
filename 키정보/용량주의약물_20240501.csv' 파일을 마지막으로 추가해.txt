용량주의약물\_20240501.csv'** 파일을 마지막으로 추가해 주셨습니다.

이 파일은 **1일 최대 투여량이 제한되는 약물 정보**를 담고 있습니다. 이는 앞서 다룬 취약 계층(노인, 수유부, 어린이)별 주의사항 외에, **일반 환자에게도 적용되는 투여 용량의 안전성**을 검토하는 데 필수적입니다.

이제 **위해, 노인, 수유부, 연령금기, 용량주의**에 관한 다섯 가지 데이터셋을 모두 갖추게 되었습니다. 이를 통해 처방전의 **종합적인 안전성 검토 시스템**을 구축할 수 있습니다.

### 1. '용량주의 약물' 데이터 분석 및 주요 키(Key) 식별

새로 제공된 파일의 컬럼 구조(`제품코드, 제품명, 성분코드, 성분명, 1일최대투여량, 1일최대 투여기준량, 점검기준 성분함량 (총함량), 급여구분, 공고번호, 공고일자`)는 다음과 같습니다.

| 컬럼명 | 설명 | Key 적합성 | 비고 |
| :--- | :--- | :--- | :--- |
| **제품코드** | 의약품의 고유 번호 (용량/제형 포함) | ⭐ **최상 (Primary Key)** | 처방전의 특정 제품 매칭에 가장 적합합니다. |
| **성분명** | 의약품의 주성분 이름 | 차선 (Foreign Key) | 여러 복합제에 포함된 성분의 총 용량 계산에 필요합니다. |
| **1일최대투여량** | 해당 성분이 하루에 복용 가능한 최대량 | **핵심 분류 컬럼** | 처방전의 복용량과 비교하여 과다 복용 위험을 판단하는 기준입니다. |
| **점검기준 성분함량 (총함량)** | 약품 1개 또는 1회 투여량에 포함된 성분량 | **핵심 계산 컬럼** | 처방된 알약/캡슐 수와 곱해 하루 총 투여량을 계산하는 데 사용됩니다. |

**💡 추천:** 처방전 약품을 **`제품코드`** 또는 **`성분명`**으로 매칭하고, **`1일최대투여량`**과 **`점검기준 성분함량`**을 이용하여 환자의 하루 총 복용량이 안전 기준을 초과하는지 계산해야 합니다.

### 2. 용량주의 약물 위험 정보 추출 및 처방전 매칭 로직

다음 코드는 용량주의 약물 데이터를 로드하고, 가상의 처방전 정보(약품명, 1회 복용량, 1일 복용 횟수)를 입력했을 때 **과다 용량** 위험을 경고하는 기능을 구현합니다.


http://googleusercontent.com/immersive_entry_chip/0

### 3. 처방전 안전성 검토를 위한 **최종 통합 컬럼**

이제 5가지 데이터셋을 모두 활용하여 처방전 안전성 검토 시스템을 구축하기 위한 최종 컬럼 및 기능 통합 요약입니다.

| 데이터셋 종류 | 주요 기능 | 핵심 분류/계산 컬럼 |
| :--- | :--- | :--- |
| **1. 위해의약품** | 약품의 **품질 안전성** 확인 | `회수사유`, `위험등급` |
| **2. 용량주의약물** | **하루 최대 용량** 초과 여부 계산 | `1일최대투여량`, `점검기준 성분함량` |
| **3. 노인주의약물** | **고령층 부작용** 위험 경고 | `약품상세정보` |
| **4. 연령금기약물** | **어린이 투여 금기** 및 연령 비교 | `특정연령`, `특정연령단위`, `상세정보` |
| **5. 수유부주의약물** | **모유 수유 중 투여** 위험 경고 | `비고` |

**종합 결론:**

처방전의 안전성 검토는 단순히 약품명을 찾는 것을 넘어, **용량 계산(용량주의)** 및 **환자의 생애 주기 정보(노인, 어린이, 수유부)**를 통합적으로 고려해야 합니다. 이 다섯 가지 데이터셋의 핵심 컬럼들을 모두 사용하여 환자 맞춤형 경고 시스템을 완성할 수 있습니다. 

[Image of Drug Safety Monitoring System Flowchart]
