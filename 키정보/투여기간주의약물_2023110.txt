가지고 계신 **'한국의약품안전관리원\_투여기간주의약물\_20231108.csv'** 파일로, 특정 약물의 **최대 권장 투여 기간 초과 여부**를 검사하는 파이썬 코드를 생성해 드립니다.

이 코드는 약물명과 처방 기간(일수)을 입력하면, 데이터셋의 기준과 비교하여 장기 투여 위험을 경고합니다.

### ⏱️ 투여 기간 주의 약물 검사 스크립트 (Python)


http://googleusercontent.com/immersive_entry_chip/0

### 코드 설명

1.  **데이터 로드 및 전처리 (`load_and_preprocess_duration_data`)**:
    * `한국의약품안전관리원_투여기간주의약물_20231108.csv` 파일을 로드합니다.
    * `최대투여기간일수` 컬럼을 정수형으로 변환하여 계산에 사용할 수 있도록 준비하고, 계산에 필요한 필수 정보가 없는 행은 제거합니다.
2.  **핵심 검사 함수 (`check_duration_limit`)**:
    * 사용자가 입력한 `drug_name`으로 데이터셋에서 약물을 검색합니다.
    * 매칭되는 약물이 발견되면, 입력된 처방 기간(`intended_duration_days`)을 데이터셋의 `최대투여기간일수_숫자`와 비교합니다.
    * 처방 기간이 최대 권장 기간을 초과하면 **🚨 투여 기간 초과 경고** 메시지를, 그렇지 않으면 **✅ 안전** 메시지를 반환합니다.
3.  **테스트 실행 (`run_tests`)**:
    * **테스트 1 & 2**는 졸피뎀(최대 28일)을 사용하여 기간 초과 및 안전 사례를 검증합니다.
    * **테스트 3**은 케토롤락 주사(최대 2일)와 같이 매우 짧은 기간 제한이 있는 약물에 대해 검사를 수행하여 경고가 올바르게 작동하는지 확인합니다.
    * **테스트 4**는 데이터셋에 없는 약물에 대한 처리 결과를 확인합니다.